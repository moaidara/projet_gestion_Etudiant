#:kivy 2.1.0  
#: import hex kivy.utils.get_color_from_hex
#conversion des codes hexadecimaux en couleurs rgba

#: set noir "#000000" 
# Definit une variable 'noir' a travers le code hexadecimal

#: set blanc "#ffffff" 
# Definit une variable 'blanc' a travers le code hexadecimal

#: set bleu "#0011" 
# Definit une variable 'bleu' a travers le code hexadecimal

#: set small dp(12) 
# Definit une variable 'small' de taille 12

#: set medium dp(24) 
# Definit une variable 'meduim' de taille 24

#: set extra dp(36) 
# Definit une variable 'extra' de taille 36

#: set radius_ dp (20) 
# Definit une variable 'raduis' de taille 20

#: set round dp(20) 
# Definit une variable 'round' a travers le code hexadecimal

#Fait appel a la classe Ajout depuis le fichier .py
<Ajout>:
    #l'orientation des widgets verticalement
    orientation: "vertical"

    # Indique qu les elements graphiques seront dessines avant les widgets 
    canvas.before:
        # La definition du couleur en bleu
        Color:
            rgba: 0.2, 0.6, 0.8, 1

        # La mise en point de l'image transferer dpuis le document    
        Rectangle:
            source: "img/image.jpg"
            pos:self.pos
            size: self.size

    # Affichage du text        
    Label:
        canvas.before:
            Color:
                rgba: 0,0,0,0.75
            Rectangle:
                pos: self.pos
                size: self.size
        # Text afficher par le label         
        text: "Ajouter etudiant"
        font_size: dp(30)
        size_hint: 1, 0.5

    # Permettre le positionnement precis des widgets en fonction des coordonnees et des proportions     
    FloatLayout:

        orientation: "vertical"
        canvas.before:
            Color:
                # rgb:hex(blanc)
            RoundedRectangle:
                pos:self.pos
                size:self.size
                radius: radius_, radius_
        size_hint: 0.9, 5.5
        pos_hint:{"center_x": 0.5, "center_y":0.57}
#   Affichage des text input avec l'aide des boxlayouts et autres
        BoxLayout:
            orientation:"vertical"
            pos_hint:{"center_x": 0.5, "top":1.10} 
            spacing: dp(60)
            padding: dp(15), dp(70)
            BoxLayout:
                orientation:"vertical"
                size_hint:0.5, 0.07
                pos_hint:{"center_x":0.5, "top":0.95}
                spacing: dp(10)
                canvas.before:
                    Color:
                        rgb: 1,1,1,1
                    Rectangle:
                        pos:self.pos
                        size:self.size    
                Label:
                    text:"Veuillez entrer les informations de l'etudiant"
                    color: 0,0,0
                    font_size: medium
                Label:
                    id:message_label
                    text: "" 
                    font_size: dp(10)
                    pos_hint: {"center_x":0.5,"center_y":0.7}
                    size_hint: 1, 0.2
                    color: 1, 0, 0, 1
                    halign: "center"
                    valign: "middle"
            BoxLayout:
                orientation:"horizontal"
                size_hint:1, 0.03
                spacing: dp(10)
                TextInput:
                    id:nomAJ
                    hint_text:"nom"
                    font_name:"Roboto"
                    font_size:dp(20)
                    text_size:self.size
                    halign:"center"
                    valign:"middle"
                    multiline: False
                    write_tab: False
                TextInput:
                    id:prenomAJ
                    hint_text:"prenom"
                    font_name:"Roboto"
                    font_size:dp(20)
                    text_size:self.size
                    halign:"center"
                    valign:"middle"                
                    multiline: False
                    write_tab: False
                TextInput:
                    id:ageAJ
                    hint_text:"age"
                    font_name:"Roboto"
                    font_size:dp(20)
                    text_size:self.size
                    halign:"center"
                    valign:"middle"                
                    multiline: False
                    write_tab: False    
                TextInput:
                    id:matriculeAJ
                    hint_text:"matricule"
                    font_name:"Roboto"
                    font_size:dp(20)
                    text_size:self.size
                    halign:"center"
                    valign:"middle"                
                    multiline: False
                    write_tab: False 

            BoxLayout:
                size_hint:1, 0.03
                spacing: dp(10)
                orientation:"horizontal"
                Spinner:
                    id:niveauAJ
                    text:"niveau"
                    values:['Licence 1', 'Licence 2', 'Licence 3', 'Master 1', 'Master 2']
                    font_name:"Roboto"
                    font_size:dp(20)
                    text_size:self.size
                    halign:"center"
                    valign:"middle"                
                    multiline:False
                    write_tab:False
                TextInput:
                    id:adresseAJ
                    hint_text:"adresse"
                    font_name:"Roboto"
                    font_size:dp(20)
                    text_size:self.size
                    halign:"center"
                    valign:"middle"                
                    multiline:False
                    write_tab:False
                Spinner:
                    id:sexAJ
                    text:"sex(M/F)"
                    values:["Masculin", "Feminin"]
                    font_name:"Roboto"
                    font_size:dp(20)
                    text_size:self.size
                    halign:"center"
                    valign:"middle"                
                    multiline: False
                    write_tab: False 
                TextInput:
                    id:nom_usersAJ
                    hint_text:"Nom d'utilisateur"
                    font_name:"Roboto"
                    font_size:dp(20)
                    text_size:self.size
                    halign:"center"
                    valign:"middle"                
                    multiline: False
                    write_tab: False 
            BoxLayout:
                size_hint:1, 0.03
                spacing: dp(10)
                orientation:"horizontal"
                TextInput:
                    id:numeroAJ
                    hint_text:"Numero de Telephone"
                    font_name:"Roboto"
                    font_size:dp(20)
                    text_size:self.size
                    halign:"center"
                    valign:"middle"             
                    multiline:False
                    write_tab:False
                TextInput:
                    id:mailAJ
                    hint_text:"adresse email"
                    font_name:"Roboto"
                    font_size:dp(20)
                    text_size:self.size
                    halign:"center"
                    valign:"middle"             
                    multiline: False
                    write_tab: False 
# Affichage du boutton ajouter                       
        Button:
            id: ajouterAJ
            text: "Ajouter"
            size_hint: 0.3, 0.09
            font_size: dp(18)
            pos_hint:{"center_x":0.5, "y":0.09}  
            background_color: 0.2, 0.6, 0.8, 1              
            font_name: "Roboto"   
            on_press:
                app.gestion.add_student(nomAJ.text, prenomAJ.text, nom_usersAJ.text, matriculeAJ.text, ageAJ.text, adresseAJ.text, niveauAJ.text, sexAJ.text, numeroAJ.text, mailAJ.text); 
                message_label.text = app.gestion.message

# Affichage du button retour
        Button:
            text: "Retour"
            font_size: dp(18)
            pos_hint:{"right":0.95,"center_y":0.06}
            size_hint: None, 0.09
            width: dp(150)
            background_color: 0.2, 0.6, 0.8, 1
            font_name: 'Roboto'
            on_press: app.gestion.transition.direction="right";app.gestion.current="acceuil"


